<!doctype html>
<html lang="zn">

<head>
    <meta charset="UTF-8">
    <title>动画精灵</title>
</head>

<body>
    <div id="px-render"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.8.2/pixi.min.js"></script>
    <script>
        // 创建一个 Pixi应用 需要的一些参数
        let option = {
            width: 564,
            height: 1196,
            transparent: true,
        }
        // 创建一个 Pixi应用
        let app = new PIXI.Application(option);
        // 获取渲染器
        let renderer = app.renderer;
        let playground = document.getElementById('px-render');
        // 把 Pixi 创建的 canvas 添加到页面上
        playground.appendChild(renderer.view); 

    //设置别名
		let TextureCache = PIXI.utils.TextureCache;
		let Texture = PIXI.Texture;
		let Rectangle = PIXI.Rectangle;
		let AnimatedSprite = PIXI.extras.AnimatedSprite;

		//需要加载的雪碧图的地址（该图片服务器端已做跨域处理）
		let imgURL = "birdhead.png";
 
		//加载图像，加载完成后执行setup函数 
		PIXI.loader.add(imgURL).load(setup);
		
        function setup() {  
			//获取纹理
			let base = TextureCache[imgURL];
			
			//第一个纹理
			let texture0 = new Texture(base);
			texture0.frame = new Rectangle(0, 0, 562, 1196);
			//第二个纹理
			let texture1 = new Texture(base);
			texture1.frame = new Rectangle(562, 0, 562, 1196);
			// //第三个纹理
			let texture2 = new Texture(base);
			texture2.frame = new Rectangle(1124, 0, 562, 1196);
			//第四个纹理
			let texture3 = new Texture(base);
			texture3.frame = new Rectangle(1686, 0, 562, 1196);
            //第五个纹理
			let texture4 = new Texture(base);
			texture4.frame = new Rectangle(1686, 0, 562, 1196);


			//创建纹理数组
			let textures = [texture0, texture1, texture2,texture3,texture4];
			//创建动画精灵
			let pixie = new PIXI.extras.AnimatedSprite(textures); 
			//设置动画精灵的速度
			pixie.animationSpeed=0.1;
			
			//把动画精灵添加到舞台
            app.stage.addChild(pixie);
			//播放动画精灵
            pixie.play();
        }
    </script>
</body>

</html>
